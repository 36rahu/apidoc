{%- for namespace in sources.get_used_namespaces()|sort %}
    <li class="namespace" id="n-{{ namespace.name }}">
        <h3>{{ namespace.name }}</h3>
    {%- if namespace.description %}
        <div class="description">{{ namespace.description }}</div>
    {%- endif %}
        <ul class="unstyled">
    {%- for type_versioned in namespace.get_used_types()|sort %}
            <li class="type item" id="t-{{ type_versioned.name }}">
                <h4>{{ type_versioned.name }}</h4>
        {%- if sources.versions|length > 1 %}
                <div class="diff-header">
                    <h5 class="desc"></h5>
                    <h5 class="diff">
                        <i class="i-side mode-side"></i>
                        <i class="i-inline mode-inline"></i>
                        <i class="i-full mode-full"></i>
                        <i class="i-mini mode-mini"></i>
                        <i class="i-diff"></i>
                         Diff
                    </h5>
                    <ul class="versions inline">
            {%- for version in sources.versions.values()|sort %}
                        <li data-version="{{ version.name }}" data-changed="{{ type_versioned.changed_status(version.name)|lower }}"
                {%- if version.name not in type_versioned.versions -%}
                    data-exists="no"
                {%- else -%}
                    data-exists="yes"
                {%- endif -%}>
                        {{- version.name -}}
                        </li>
            {%- endfor %}
                    </ul>
                </div>
        {%- endif -%}
                <div class="contents">
        {%- include "partial/type_diff.html" -%}
                    <div class="stack sample">
        {%- for type in type_versioned.signatures.values() %}
                        <div data-version="
            {%- for (type_version_name, type_version) in type_versioned.versions.items() %}
                {%- if type_version.signature == type.signature %}{{ type_version_name }} {% endif %}
            {%- endfor -%}
                    ">
            {%- include "partial/type_sample.html" -%}
                        </div>
        {%- endfor %}
                    </div>
                </div>
            </li>
    {%- endfor %}
        </ul>
    </li>
{%- endfor -%}